<div class="card mb-3">
  <div class="card-header">
    <%= t("views.analysis.correct_rates") %>
  </div>
  <div class="card-body">
    <table class="table table-striped table-bordered">
      <tr>
        <th class="col-sm-6 text-center">
          <%= t("views.question") %>
        </th>
        <th class="col-sm-3 text-center">
          <%= t("views.analysis.correct_rates") %>
        </th>
        <th class="col-sm-3 text-center">
          <%= t("views.analysis.correct_rates") %>
          (<%= t("views.comparator") %>)
        </th>
      </tr>
      <% @result.correct_rates(params[:student_attributes]).each_with_index do |correct_ratio, i| %>
        <tr>
          <td>
            <%= correct_ratio[:question] %>
          </td>
          <td align="right">
            <%= sprintf("%.2f", correct_ratio[:value].to_f) %> %
          </td>
          <td align="right">
            <%= @survey.aggregated["correct_rates"]["#{@result.grade}-#{@result.subject}-#{params[:comparator]}"][i]["value"] %> %
          </td>
        </tr>
      <% end %>
    </table>
  </div>
</div>


